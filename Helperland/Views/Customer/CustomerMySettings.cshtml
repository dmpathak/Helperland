@model Helperland.Models.ViewModels.CustomerSettingsViewModel

@{
    ViewData["Title"] = "Customer > MySettings";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
}
@section CustomCss{
<link rel="stylesheet" href="~/css/CustomerMySettings.css" />
}


<!-- welcome...  -->
<div class="welcome">
    Welcome, @User.Identity.Name!
</div>


<!-- between -->
<div class="between_main_container">
    <div class="between_1st_container" id="open_side_manu_id">
        <p class="between_1st_container_data"><a asp-controller="Customer" asp-action="CustomerDashboard">Dashboard</a></p>
        <hr style="opacity: 0.2;">
        <p class="between_1st_container_data"><a asp-controller="Customer" asp-action="CustomerServiceHistory">Service History</a></p>
        <hr style="opacity: 0.2;">
        <p class="between_1st_container_data"><a href="#">Service Schedule</a></p>
        <hr style="opacity: 0.2;">
        <p class="between_1st_container_data"><a asp-controller="Customer" asp-action="CustomerFavouritePros">Favourite Pros</a></p>
        <hr style="opacity: 0.2;">
        <p class="between_1st_container_data"><a href="#">Invoices</a></p>
        <hr style="opacity: 0.2;">
        <p class="between_1st_container_data"><a href="#">Notifications</a></p>
        <hr style="opacity: 0.2;">
    </div>
    <div class="sec_main_container">
        <div class="between_table_header_container">
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true"><b>My Details</b></button>
                    <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false"><b>My Addressed</b></button>
                    <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false"><b>Change Password</b></button>
                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">

                <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                    @foreach (var item in ViewBag.data_send)
                    {
                        <form id="tab1_form">
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label class="control-label">First Name</label>
                                    <input asp-for="setting1viewmodel.first_name" type="text" class="form-control" id="tab_1_f_name" value="@item.f_name">
                                    <span asp-validation-for="setting1viewmodel.first_name" class="text-danger"></span>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="control-label">Last Name</label>
                                    <input asp-for="setting1viewmodel.last_name" type="text" class="form-control" id="tab_1_l_name" value="@item.l_name">
                                    <span asp-validation-for="setting1viewmodel.last_name" class="text-danger"></span>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="control-label">E-mail Address</label>
                                    <input asp-for="setting1viewmodel.email" type="text" class="form-control" id="tab_1_email_add" value="@item.mail" disabled>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="control-label">Mobile Number</label>
                                    <div class="input-group flex-nowrap">
                                        <span class="input-group-text" id="addon-wrapping">+91</span>
                                        <input asp-for="setting1viewmodel.mobile" type="text" class="form-control" id="tab_1_phone_no" value="@item.phone" aria-describedby="addon-wrapping">
                                    </div>
                                    <span asp-validation-for="setting1viewmodel.mobile" class="text-danger"></span>
                                </div>
                                <div class="col-md-5 col-12 mb-3">
                                    <label class="control-label">Date of Birth</label>
                                    <div class="row g-2 form-group data-group" id="dates">
                                        <div class="col-3">
                                            <select asp-for="setting1viewmodel.date" id="tab_1_date" class=" form-select" aria-label="Default select example" value="@item.bdate">
                                                <option value="">Day</option>
                                                <option value="01">01</option>
                                                <option value="02">02</option>
                                                <option value="03">03</option>
                                                <option value="04">04</option>
                                                <option value="05">05</option>
                                                <option value="06">06</option>
                                                <option value="07">07</option>
                                                <option value="08">08</option>
                                                <option value="09">09</option>
                                                <option value="10">10</option>
                                                <option value="11">11</option>
                                                <option value="12">12</option>
                                                <option value="13">13</option>
                                                <option value="14">14</option>
                                                <option value="15">15</option>
                                                <option value="16">16</option>
                                                <option value="17">17</option>
                                                <option value="18">18</option>
                                                <option value="19">19</option>
                                                <option value="20">20</option>
                                                <option value="21">21</option>
                                                <option value="22">22</option>
                                                <option value="23">23</option>
                                                <option value="24">24</option>
                                                <option value="25">25</option>
                                                <option value="26">26</option>
                                                <option value="27">27</option>
                                                <option value="28">28</option>
                                                <option value="29">29</option>
                                                <option value="30">30</option>
                                                <option value="31">31</option>
                                            </select>
                                        </div>
                                        <div class="col-5">
                                            <select asp-for="setting1viewmodel.month" id="tab_1_month" class=" form-select" aria-label="Default select example" value="@item.bmonth">
                                                <option value="">Month</option>
                                                <option value="1">January</option>
                                                <option value="2">February</option>
                                                <option value="3">March</option>
                                                <option value="4">April</option>
                                                <option value="5">May</option>
                                                <option value="6">June</option>
                                                <option value="7">July</option>
                                                <option value="8">August</option>
                                                <option value="9">September</option>
                                                <option value="10">October</option>
                                                <option value="11">November</option>
                                                <option value="12">December</option>
                                            </select>
                                        </div>
                                        <div class="col-4 ">
                                            <select asp-for="setting1viewmodel.year" id="tab_1_year" class="form-select" aria-label="Default select example" value="@item.byear">
                                                <option value="">Year</option>
                                                <option value="2012">2012</option>
                                                <option value="2011">2011</option>
                                                <option value="2010">2010</option>
                                                <option value="2009">2009</option>
                                                <option value="2008">2008</option>
                                                <option value="2007">2007</option>
                                                <option value="2006">2006</option>
                                                <option value="2005">2005</option>
                                                <option value="2004">2004</option>
                                                <option value="2003">2003</option>
                                                <option value="2002">2002</option>
                                                <option value="2001">2001</option>
                                                <option value="2000">2000</option>
                                                <option value="1999">1999</option>
                                                <option value="1998">1998</option>
                                                <option value="1997">1997</option>
                                                <option value="1996">1996</option>
                                                <option value="1995">1995</option>
                                                <option value="1994">1994</option>
                                                <option value="1993">1993</option>
                                                <option value="1992">1992</option>
                                                <option value="1991">1991</option>
                                                <option value="1990">1990</option>
                                                <option value="1989">1989</option>
                                                <option value="1988">1988</option>
                                                <option value="1987">1987</option>
                                                <option value="1986">1986</option>
                                                <option value="1985">1985</option>
                                                <option value="1984">1984</option>
                                                <option value="1983">1983</option>
                                                <option value="1982">1982</option>
                                                <option value="1981">1981</option>
                                                <option value="1980">1980</option>
                                                <option value="1979">1979</option>
                                                <option value="1978">1978</option>
                                                <option value="1977">1977</option>
                                                <option value="1976">1976</option>
                                                <option value="1975">1975</option>
                                                <option value="1974">1974</option>
                                                <option value="1973">1973</option>
                                                <option value="1972">1972</option>
                                                <option value="1971">1971</option>
                                                <option value="1970">1970</option>
                                                <option value="1969">1969</option>
                                                <option value="1968">1968</option>
                                                <option value="1967">1967</option>
                                                <option value="1966">1966</option>
                                                <option value="1965">1965</option>
                                                <option value="1964">1964</option>
                                                <option value="1963">1963</option>
                                                <option value="1962">1962</option>
                                                <option value="1961">1961</option>
                                                <option value="1960">1960</option>
                                                <option value="1959">1959</option>
                                                <option value="1958">1958</option>
                                                <option value="1957">1957</option>
                                                <option value="1956">1956</option>
                                                <option value="1955">1955</option>
                                                <option value="1954">1954</option>
                                                <option value="1953">1953</option>
                                                <option value="1952">1952</option>
                                                <option value="1951">1951</option>
                                                <option value="1950">1950</option>
                                                <option value="1949">1949</option>
                                                <option value="1948">1948</option>
                                                <option value="1947">1947</option>
                                                <option value="1946">1946</option>
                                                <option value="1945">1945</option>
                                                <option value="1944">1944</option>
                                                <option value="1943">1943</option>
                                                <option value="1942">1942</option>
                                                <option value="1941">1941</option>
                                                <option value="1940">1940</option>
                                                <option value="1939">1939</option>
                                                <option value="1938">1938</option>
                                                <option value="1937">1937</option>
                                                <option value="1936">1936</option>
                                                <option value="1935">1935</option>
                                                <option value="1934">1934</option>
                                                <option value="1933">1933</option>
                                                <option value="1932">1932</option>
                                                <option value="1931">1931</option>
                                                <option value="1930">1930</option>
                                                <option value="1929">1929</option>
                                                <option value="1928">1928</option>
                                                <option value="1927">1927</option>
                                                <option value="1926">1926</option>
                                                <option value="1925">1925</option>
                                                <option value="1924">1924</option>
                                                <option value="1923">1923</option>
                                                <option value="1922">1922</option>
                                                <option value="1921">1921</option>
                                                <option value="1920">1920</option>
                                                <option value="1919">1919</option>
                                                <option value="1918">1918</option>
                                                <option value="1917">1917</option>
                                                <option value="1916">1916</option>
                                                <option value="1915">1915</option>
                                                <option value="1914">1914</option>
                                                <option value="1913">1913</option>
                                            </select>
                                        </div>
                                    </div>
                                    <span asp-validation-for="setting1viewmodel.year" class="text-danger"></span>
                                </div>
                            </div>
                            <hr class="my-3" />
                            <div class="col-md-3 form-group">
                                <label class="control-label">My Preferred Language</label>
                                <select asp-for="setting1viewmodel.language" id="lang" class="mb-3 form-select">
                                    <option value="1">English</option>
                                </select>
                            </div>
                            <button type="submit" id="my_datail_save" class="rate_submit mb-3">Save</button>
                        </form>
                    }

                </div>

                @*for tab 2 *@
                <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                    <table>
                        <thead>
                            <tr class="table_view_head">
                                <th>Addresses</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="for_innerhtml">
                            @foreach (var item1 in ViewBag.address_data)
                            {
                                <tr class="table_view_body" data-address_id="@item1.address_id">
                                    <td>

                                        <p><b>Address: </b><span id="address_@item1.address_id">@item1.address</span></p>
                                        <p><b>Phone number: </b><span id="ph_@item1.address_id">@item1.phone</span></p>

                                    </td>
                                    <td>
                                        <img onclick="openmodal(@item1.address_id)" src="~/img/edit.png" alt="pic1">
                                        <img src="~/img/delete-icon.png" alt="pic2">


                                        <!-- Modal -->
                                    <div class="modal fade" id="edit_@item1.address_id" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog modal-dialog-centered">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="exampleModalLabel">Edit Address</h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form>

                                                            <input asp-for="setting2viewmodel.id" type="text" class="form-control d-none" value="@item1.address_id" id="adid_@item1.address_id">
                                                            <div class="row row-cols-2">
                                                                <div class="col mb-3">
                                                                    <label class="control-label"><b>Street Name</b></label>
                                                                    <input asp-for="setting2viewmodel.street" type="text" class="form-control" value="@item1.street" id="strt_@item1.address_id" placeholder="Street name">
                                                                    <span asp-validation-for="setting2viewmodel.street" class="text-danger"></span>
                                                                </div>
                                                                <div class="col mb-3">
                                                                    <label class="control-label"><b>House number</b></label>
                                                                    <input asp-for="setting2viewmodel.house" type="text" class="form-control" value="@item1.house" id="house_@item1.address_id" placeholder="House number">
                                                                    <span asp-validation-for="setting2viewmodel.house" class="text-danger"></span>
                                                                </div>
                                                                <div class="col mb-3">
                                                                    <label class="control-label"><b>Postal code</b></label>
                                                                    <input asp-for="setting2viewmodel.postcode" type="text" class="form-control" value="@item1.pin" id="pin_@item1.address_id" placeholder="pin code">
                                                                    <span asp-validation-for="setting2viewmodel.postcode" class="text-danger"></span>
                                                                </div>
                                                                <div class="col mb-3">
                                                                    <label class="control-label"><b>City</b></label>
                                                                    <input asp-for="setting2viewmodel.city" type="text" class="form-control" value="@item1.city" id="cty_@item1.address_id" placeholder="city">
                                                                    <span asp-validation-for="setting2viewmodel.city" class="text-danger"></span>
                                                                </div>

                                                                <div class="col mb-3">
                                                                    <label class="control-label"><b>Phone Number</b></label>
                                                                    <div class="input-group flex-nowrap">
                                                                        <span class="input-group-text" id="addon-wrapping">+91</span>
                                                                        <input asp-for="setting2viewmodel.mobile" type="text" class="form-control" id="phn_@item1.address_id" value="@item1.phone" aria-describedby="addon-wrapping">
                                                                    </div>
                                                                    <span asp-validation-for="setting2viewmodel.mobile" class="text-danger"></span>
                                                                </div>
                                                            </div>
                                                            <button onclick="edit(event, @item1.address_id);" class="rate_submit w-100">Edit</button>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>

                            }
                        </tbody>
                    </table>

                    @*add new address button*@
                    <button class="expert_btn" data-bs-toggle="modal" data-bs-target="#addnew">Add New Address</button>
                    <div class="modal fade" id="addnew" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Add New Address</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="new_form">
                                        <div class="row row-cols-2">
                                            <div class="col mb-3">
                                                <label class="control-label"><b>Street Name</b></label>
                                                <input asp-for="setting2viewmodel.street" type="text" class="form-control" id="new1" value="">
                                                <span asp-validation-for="setting2viewmodel.street" class="text-danger"></span>
                                            </div>
                                            <div class="col mb-3">
                                                <label class="control-label"><b>House number</b></label>
                                                <input asp-for="setting2viewmodel.house" type="text" class="form-control" id="new2" value="">
                                                <span asp-validation-for="setting2viewmodel.house" class="text-danger"></span>
                                            </div>
                                            <div class="col mb-3">
                                                <label class="control-label"><b>Postal code</b></label>
                                                <input asp-for="setting2viewmodel.postcode" type="text" class="form-control" id="new3" value="">
                                                <span asp-validation-for="setting2viewmodel.postcode" class="text-danger"></span>
                                            </div>
                                            <div class="col mb-3">
                                                <label class="control-label"><b>City</b></label>
                                                <input asp-for="setting2viewmodel.city" type="text" class="form-control" id="new4" value="">
                                                <span asp-validation-for="setting2viewmodel.city" class="text-danger"></span>
                                            </div>

                                            <div class="col mb-3">
                                                <label class="control-label"><b>Phone Number</b></label>
                                                <div class="input-group flex-nowrap">
                                                    <span class="input-group-text" id="addon-wrapping">+91</span>
                                                    <input asp-for="setting2viewmodel.mobile" type="text" class="form-control" id="new5" placeholder="phone" aria-describedby="addon-wrapping">
                                                </div>
                                                <span asp-validation-for="setting2viewmodel.mobile" class="text-danger"></span>
                                            </div>
                                        </div>
                                        <button class="rate_submit w-100" onclick="add(event)" data-bs-dismiss="modal" id="submit_new_address" type="submit">Add</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">

                    <form id="passform">
                        <div class="col-sm-4 mb-3">
                            <label for="exampleInputPassword1" class="form-label"> <b>Old Password</b> </label>
                            <input asp-for="setting3viewmodel.oldpassword" type="password" value="" class="form-control" id="exampleInputPassword1" placeholder="Current Password">
                            <span asp-validation-for="setting3viewmodel.oldpassword" class="text-danger"></span>
                        </div>
                        <div class="col-sm-4 mb-3">
                            <label for="exampleInputPassword2" class="form-label"> <b>New Password</b> </label>
                            <input asp-for="setting3viewmodel.newpassword" type="password" value="" class="form-control" id="exampleInputPassword2" placeholder="Password">
                            <span asp-validation-for="setting3viewmodel.newpassword" class="text-danger"></span>
                        </div>
                        <div class="col-sm-4 mb-3">
                            <label for="exampleInputPassword3" class="form-label"> <b>Confirm Password</b> </label>
                            <input asp-for="setting3viewmodel.confirmpassword" type="password" value="" class="form-control" id="exampleInputPassword3" placeholder="Confirm Password">
                            <span asp-validation-for="setting3viewmodel.confirmpassword" class="text-danger"></span>
                        </div>

                        <div id="pass_success"></div>
                        <button type="submit" id="psssubmit" class="rate_submit mb-3">Save</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>



@section Scripts{
<script src="~/js/CustomerMySettings.js"></script>
}






